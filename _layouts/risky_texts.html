---
layout: default

---

{% assign lastPerson="nobody" %}
{% assign textClasses="mw-70 py-2 px-3" %}
{% assign textRadius="1rem" %}

{% for t in page.texts %}

{% capture textStyles %}
{% endcapture %}

{% if forloop.first == true %}
{% assign colClass="col-12" %}
{% elsif lastPerson == t.person %}
{% assign colClass="col-12 pt-1" %}
{% elsif lastPerson != t.person %}
{% assign colClass="col-12 pt-3" %}
{% endif %}

{% capture textStyles %}
color: white;
max-width: 70%;
{% endcapture %}
<div class="{{ colClass }}">
  {% if t.person == "me" %}

  {% capture textStyles %}
  {{ textStyles }}
  background-color: rgb(0,170,240);
  border-top-left-radius: {{ textRadius }};
  border-bottom-left-radius: {{ textRadius }};
  {% unless lastPerson == t.person %}
  border-top-right-radius: {{ textRadius }};
  {% endunless %}
  {% endcapture %}

  <div class="d-flex flex-row-reverse">
    <div class="{{ textClasses }}" style="{{ textStyles }}">
      {{ t.message }}
    </div>
  </div>

  {% elsif t.person == "them" %}

  {% capture textStyles %}
  {{ textStyles }}
  background-color: rgb(150,150,150);
  border-top-right-radius: {{ textRadius }};
  border-bottom-right-radius: {{ textRadius }};
  {% unless lastPerson == t.person %}
  border-top-left-radius: {{ textRadius }};
  {% endunless %}
  {% endcapture %}

  <div class="d-flex flex-row">
    <div class="{{ textClasses }}" style="{{ textStyles }}">
      {{ t.message }}
    </div>
  </div>

  {% elsif t.person == "time" %}
  <div class="text-center">
    <p style="font-weight: 900; color: grey">
    {{ t.message }}
    </p>
  </div>
  {% endif %}

</div>
{% assign lastPerson=t.person %}
{% endfor %}


<div class="col-6 text-left mt-3">
  {% if page.scene > 1 %}
  <a class="btn btn-primary" href="/risky_texts/{{ page.scene | minus: 1 }}">
    Previous
  </a>
  {% endif %}
</div>
<div class="col-6 text-right mt-3">
  {% if page.scene < site.risky_texts.size %}
  <a class="btn btn-primary" href="/risky_texts/{{ page.scene | plus: 1 }}">
    Next
  </a>
  {% endif %}
</div>

{{ page.name }}
